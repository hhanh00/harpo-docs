[{"uri":"https://harpocoin.xyz/blockchain/model/","title":"Data Model","tags":[],"description":"","content":"As its name suggests, the Blockchain is a set of blocks roughly organized as a chain. Ideally, every block would be neatly lined up and form a single linked list.\nBlock A block has the following properties:\n a hash value that serves as its unique identifier. Hash values are considered unique as long as they refer to different content a reference to the previous block as a field prev_hash  These two values are enough for linking the blocks.\nThe rest of the properties are related to the \u0026ldquo;blockchain rules\u0026rdquo;.\nIt is not enough for a block to be structurally correct to be allowed in the blockchain. It must also follow other rules that enforce the correct business behavior.\nProof of Work A block has a proof of work value. It is computed based on the current block difficulty. A block is accepted if its hash is below a hash value derived from the difficulty. The higher the difficulty, the lower the threshold. Miners can affect the block hash by varying the nonce field of the block header.\nBlock Tree As mentioned earlier, we wish blocks would always follow one another. But by the nature of decentralized mining, it is possible, in fact, it is a relatively common occurrence, to see two blocks or more following the same block.\nFor example, a miner in Asia and a miner in Europe may both independently find a suitable nonce and produce different but valid blocks.\nIn this case, we should remember that none of the new blocks is intrinsically better. The network is split between nodes that received and processed the \u0026ldquo;first\u0026rdquo; new block and the nodes that received and processed the \u0026ldquo;other\u0026rdquo;. However, the notion of \u0026ldquo;first\u0026rdquo; and \u0026ldquo;second\u0026rdquo; is relative. Every node would not receive the blocks in the same order due to their geographic and network distance.\nWe say that the network has a \u0026ldquo;split-brain\u0026rdquo; and is not consistent. The blocks possibly can contain different transactions, leading to some of the nodes thinking that certain transactions were made but other nodes don\u0026rsquo;t.\nIt is unfortunate but normal and expected when dealing with decentralized systems.\nTherefore, the blocks do not form a perfect chain but since they can sometimes be sharing the same predecessor, they form a tree. Typically one of the branches is very long (it is the main chain), and there are short-lived branches from time to time.\nIn the next section, we\u0026rsquo;ll describe the \u0026ldquo;Blockchain Game\u0026rdquo; that is a simplified version of the set of blockchain rules.\n"},{"uri":"https://harpocoin.xyz/chainsync/stages/","title":"Stages","tags":[],"description":"","content":"ChainSync: CS\nPurpose of ChainSync CS  Download and process blocks from peers Synchronize the blockchain Update chain state  Stages  CS starts when node boots and stops when the node stops CS is normally is mode CS_FOLLOW CS starts in CS_INIT If the chain is too far behind the current tip, CS switches to CS_SYNC  CS_INIT  Tip is set to last known best, or latest checkpoint or genesis block  CS_SYNC  Indicates that our node is too far behind and should quickly download and sync up Sync relies on a \u0026ldquo;torrent\u0026rdquo; like download mechanism Mode is entered when the median of the height of the peers is farther than 1 block from tip, for 30 seconds Mode is exited when at the end of the sync process, node is no longer in the above situation  CS_FOLLOW  Receives blocks through Gossip protocol and process them  "},{"uri":"https://harpocoin.xyz/chainsync/","title":"ChainSync","tags":[],"description":"","content":"Chapter 1 Chain Sync "},{"uri":"https://harpocoin.xyz/blockchain/game/","title":"Game","tags":[],"description":"","content":"In this game, we receive blocks one by one. Our goal is to determine if the block is valid and if yes, where it should be placed in the \u0026ldquo;blockchain tree\u0026rdquo;. The bonus goal is to keep track of the longest chain, i.e. the main chain.\nBranch and chain are used interchangeably here.\n A branch is the series of blocks going from a leaf (a block that has no follower) to the first block\nBlock Data A block will have:\n hash value. It serves as its ID. prev_hash field. It is used to link to the previous block. pow field. The longest chain is the one that has the highest cumulative POW. That value is calculated by summing the POW of every block that forms the chain. a list of Nullifiers. A Nullifier is also a hash value. It represents the expenditure of some (hidden) amount of coins. To prevent double spending, we enforce the following rule:  On any branch, a nullifier may only appear ONCE\n However, it is possible to have a nullifier appearing more than once in the tree as long as it is on different branches.\nValid Chains If the prev_hash of an incoming block is the hash of a previous block, we want to place it in the tree regardless of whether it has a double-spend. But, a chain that has a double-spend MUST be invalid.\nResults After all the blocks are placed, we want to know which valid branch is the longest.\n"},{"uri":"https://harpocoin.xyz/blockchain/","title":"Blockchain","tags":[],"description":"","content":"Blockchain "},{"uri":"https://harpocoin.xyz/chainsync/sync/","title":"Sync Mode","tags":[],"description":"","content":"State  Peers  PeerId Listen address Hash, Height   Peer Leader: Peer that has the highest height, only peer we request headers from Headers  Headers are requested sequentially from Leader Response headers begin in DETACHED state    Chain Fragment Header State  List of headers received from GetHeaders DETACHED: headers have hash but no height, not validated and not connected to blockchain PARTIAL_LINKED: prev_hash links with hash of previous header. Headers form a list. No POW check, no timestamp check. Chain is not anchored yet. Trim headers that do not link and move them to INVALID state ANCHORED: First header links to a known tip. We can perform more validation  timestamp POW nonce Then trim the headers that fail validation Remaining headers =\u0026gt; Get Block using BlockSync   Send header fragment to block sync downloader  Header  INVALID: Header failed validation and is rejected  Block Sync  Download blocks from multiple peers  Block  Validate if block is right after current best tip  if block validates,  advance tip, update best tip if needed look for next block and repeat   if block does not validate,  mark remaining blocks/headers as INVALID evict Leader end CHAIN_SYNC retry CHAIN_SYNC with next best peer     If no more header fragments, end SYNC  Peer API  GetLastHeight -\u0026gt; height, hash GetHeaders(start_height, start_hash, num_headers) -\u0026gt; [BlockHeader] Return up to num_headers from given (start_height, start_hash) Error if start header is not known GetBlock(hash) -\u0026gt; Block  "},{"uri":"https://harpocoin.xyz/chainsync/block_sync/","title":"Block Sync","tags":[],"description":"","content":"Notes  Follow bittorrent principles a block = a piece we only download from peers we don\u0026rsquo;t choke peers  TODO: Study the BitTorrent protocol\nBlock Validation  Check merkle root Check transaction  zk proofs nullifiers auth signature    "},{"uri":"https://harpocoin.xyz/","title":"Harpo Coin","tags":[],"description":"","content":"Harpo Coin "},{"uri":"https://harpocoin.xyz/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://harpocoin.xyz/grant-response/","title":"Open letter","tags":[],"description":"","content":" I’m reaching out because I’d like to strongly encourage you to submit a grant proposal to cover ongoing development and maintenance of Ywallet. I will support your proposal and do my best to get the other committee members to support and approve it as well. Many of them have already commented on what a great wallet Ywallet is.\n Thanks for reaching out. There are a few reasons why I don\u0026rsquo;t plan to submit a grant proposal, even though I have done so in the past for other projects.\nI find the grant system deeply flawed at the moment. Worse, the situation is getting worse.\nWallet \u0026amp; Grants  ZecWallet, NightHawk have combined grants exceeding 1 million USD. Yet, it is clear that they work only in ideal conditions and fail otherwise,  ZW failed to place 1000 transactions during the NFT offering because there was a surge in traffic at the time, ZW \u0026amp; NH cannot cope with the current tx usage. I understand that software is not perfect and at the time they were built, there was no need for scale. After all, zcashd \u0026amp; lightwalletd are also facing performance issues   But, and my point is this, I have mentioned these performance issues to the community in the forums long ago. I have explained how BlazeSync wouldn\u0026rsquo;t scale by design. Same thing for NH. The reception from the authors was swift: This is defamation. Most of the community sided with them over performance numbers and facts. After that, the ECC continued to praise ZW and NH. And ZCG continued to fund them.  Tech Grants Slightly discouraged, I still tried to contribute to zcash. I have submitted 2 tech grants that would have improved the value of zcash.\n Hardware acceleration of trial decryptions. This would have greatly accelerated the synchronization. Currently, note trial decryption accounts for 90% of the time in WARP SYNC. It\u0026rsquo;s less % wise for other wallets but it is because they are less optimized and spend too much time on other tasks. FROST. ZF said they would have it out during the summer. They didn\u0026rsquo;t. In the meantime, an implementation came out for Monero.  In conclusion,\n It\u0026rsquo;s clear to me that the whole grant process is a popularity contest with backing from ECC and ZF.\n Now speaking of grants, there are two kinds of grants that would make sense for Ywallet:\n Maintenance Retroactive  A maintenance grant would be paltry compared to the value delivered by YWallet. Moreover, it would be entail some commitment on my part to work with the very people I disagree with. I think you see that this is not attractive to me.\nA retroactive grant would follow the model that Zookoo suggested: Deliver quality first and be rewarded later. I don\u0026rsquo;t believe this is what you have in mind.\nIn answer to:\n The biggest criticism I hear about Ywallet is that it’s called Ywallet. People are not aware it’s a multi-currency wallet that supports both Ycash and Zcash. One reason for that is Ywallet uses the former official Ycash logo. I think it would be great if Ywallet was currency agnostic. One idea I had was to re-name the wallet to \u0026ldquo;Warp Wallet\u0026rdquo; and advertise it as something like \u0026ldquo;a privacy-oriented multi-currency wallet for both Ycash and Zcash”. You may have reasons for not wanting to change the name, and I understand that. Is there anything you can do to address this issue?\n First, YWallet is advertised as \u0026ldquo;YWallet is a privacy oriented wallet and messenger for Ycash and Zcash\u0026rdquo;. It\u0026rsquo;s on the front page of the website.\nSecond, I don\u0026rsquo;t care what these people think about YWallet. I am not after getting users. What for? Exposure? If I was, I would have worked with the ECC people to ensure that YWallet gets listed on z.cash. I have played the corporate game long enough to know how to lobby.\nYWallet was born entirely out of necessity. I wanted a wallet that worked. Initially, I tried to convince Aditya to implement WarpSync but he was keen on doing BlazeSync. Therefore I prototyped zcash-sync and it eventually became YWallet. At the moment, I am helping some users get their funds out of ZWL because I don\u0026rsquo;t think they should be the victims. They have locked funds and the wallet authors are not ignoring them. I think this is highly unprofessional but typical of the grant mentality: Deliver a product, get the grant money and forget about the users. They are in for the cash but not for zcash.\nIf zcash users cannot find YWallet, I am sorry but it is mostly because they have the preconception that YWallet = Ycash. I agree that there was some clear association. The logo is the Ycash logo and the first wallet was a Ycash wallet. The first wallet is no longer Ycash. And maybe someday the logo/name will change.\nBut it won\u0026rsquo;t change because zcash users cannot find it. I am proud of the history of Ywallet and grateful to the Ycash community for working with me to make YWallet better. Especially when the Zcash community response was for the most part to ignore it and pretend it doesn\u0026rsquo;t exist.\n Is there anything you can do to address this issue?\n I don\u0026rsquo;t see an issue. Frankly, your suggestion seems to be an attempt at appropriation.\nBest regards,\n"},{"uri":"https://harpocoin.xyz/tags/","title":"Tags","tags":[],"description":"","content":""}]